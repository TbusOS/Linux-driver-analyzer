<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 350">
  <defs>
    <marker id="arrow2" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="6" markerHeight="6" orient="auto">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#a371f7"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="800" height="350" fill="#0d1117"/>
  
  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" fill="#c9d1d9" font-family="sans-serif" font-size="18" font-weight="bold">ðŸ“¦ Struct Relations Visualization</text>
  
  <!-- Main struct -->
  <rect x="280" y="60" width="240" height="160" rx="8" fill="#161b22" stroke="#3fb950" stroke-width="2"/>
  <text x="400" y="85" text-anchor="middle" fill="#3fb950" font-family="monospace" font-size="14" font-weight="bold">usb_serial_private</text>
  <line x1="290" y1="95" x2="510" y2="95" stroke="#30363d"/>
  
  <text x="300" y="115" fill="#8b949e" font-family="monospace" font-size="11">struct usb_device *udev</text>
  <text x="300" y="135" fill="#8b949e" font-family="monospace" font-size="11">struct usb_interface *intf</text>
  <text x="300" y="155" fill="#58a6ff" font-family="monospace" font-size="11">struct work_struct work</text>
  <text x="300" y="175" fill="#58a6ff" font-family="monospace" font-size="11">struct kfifo fifo</text>
  <text x="300" y="195" fill="#8b949e" font-family="monospace" font-size="11">struct mutex lock</text>
  
  <!-- Referenced structs -->
  <rect x="50" y="100" width="160" height="50" rx="6" fill="#21262d" stroke="#58a6ff" stroke-width="1.5" stroke-dasharray="4"/>
  <text x="130" y="130" text-anchor="middle" fill="#58a6ff" font-family="monospace" font-size="12">usb_device</text>
  
  <rect x="50" y="170" width="160" height="50" rx="6" fill="#21262d" stroke="#58a6ff" stroke-width="1.5" stroke-dasharray="4"/>
  <text x="130" y="200" text-anchor="middle" fill="#58a6ff" font-family="monospace" font-size="12">usb_interface</text>
  
  <rect x="590" y="100" width="160" height="50" rx="6" fill="#21262d" stroke="#d29922" stroke-width="1.5"/>
  <text x="670" y="130" text-anchor="middle" fill="#d29922" font-family="monospace" font-size="12">work_struct</text>
  
  <rect x="590" y="170" width="160" height="50" rx="6" fill="#21262d" stroke="#d29922" stroke-width="1.5"/>
  <text x="670" y="200" text-anchor="middle" fill="#d29922" font-family="monospace" font-size="12">kfifo</text>
  
  <!-- Arrows -->
  <line x1="280" y1="115" x2="210" y2="125" stroke="#a371f7" stroke-width="1.5" marker-end="url(#arrow2)"/>
  <line x1="280" y1="135" x2="210" y2="195" stroke="#a371f7" stroke-width="1.5" marker-end="url(#arrow2)"/>
  <line x1="520" y1="155" x2="590" y2="125" stroke="#a371f7" stroke-width="1.5" marker-end="url(#arrow2)"/>
  <line x1="520" y1="175" x2="590" y2="195" stroke="#a371f7" stroke-width="1.5" marker-end="url(#arrow2)"/>
  
  <!-- Legend -->
  <rect x="50" y="260" width="700" height="70" rx="8" fill="#161b22" stroke="#30363d"/>
  <text x="70" y="285" fill="#c9d1d9" font-family="sans-serif" font-size="12" font-weight="bold">Legend:</text>
  
  <rect x="70" y="298" width="20" height="14" rx="2" fill="#161b22" stroke="#3fb950" stroke-width="1.5"/>
  <text x="100" y="310" fill="#8b949e" font-family="sans-serif" font-size="11">Driver Struct</text>
  
  <rect x="230" y="298" width="20" height="14" rx="2" fill="#21262d" stroke="#58a6ff" stroke-width="1.5" stroke-dasharray="3"/>
  <text x="260" y="310" fill="#8b949e" font-family="sans-serif" font-size="11">Kernel Struct (pointer)</text>
  
  <rect x="430" y="298" width="20" height="14" rx="2" fill="#21262d" stroke="#d29922" stroke-width="1.5"/>
  <text x="460" y="310" fill="#8b949e" font-family="sans-serif" font-size="11">Embedded Struct</text>
  
  <line x1="620" y1="305" x2="660" y2="305" stroke="#a371f7" stroke-width="1.5" marker-end="url(#arrow2)"/>
  <text x="670" y="310" fill="#8b949e" font-family="sans-serif" font-size="11">References</text>
</svg>

