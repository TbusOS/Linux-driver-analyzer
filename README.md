# Linux Driver Analyzer (LDA)

<p align="center">
  <img src="docs/images/logo.png" alt="Linux Driver Analyzer" width="200"/>
</p>

<p align="center">
  <strong>ğŸ”¬ ä¸“ä¸ºLinuxé©±åŠ¨å¼€å‘è€…è®¾è®¡çš„é™æ€ä»£ç åˆ†æå’Œå¯è§†åŒ–å·¥å…·</strong>
</p>

<p align="center">
  <a href="#ç‰¹æ€§">ç‰¹æ€§</a> â€¢
  <a href="#å¿«é€Ÿå¼€å§‹">å¿«é€Ÿå¼€å§‹</a> â€¢
  <a href="#æ¶æ„">æ¶æ„</a> â€¢
  <a href="#è·¯çº¿å›¾">è·¯çº¿å›¾</a> â€¢
  <a href="#è´¡çŒ®">è´¡çŒ®</a>
</p>

---

## ğŸ¯ é¡¹ç›®æ„¿æ™¯

å½“ä½ æ‹¿åˆ°ä¸€ä»½å‡ åƒä¸Šä¸‡è¡Œçš„Linuxé©±åŠ¨ä»£ç æ—¶ï¼Œå¦‚ä½•å¿«é€Ÿç†è§£å®ƒçš„ï¼š
- ğŸ“Š **å‡½æ•°è°ƒç”¨æµç¨‹** - ä»å…¥å£ç‚¹åˆ°åº•å±‚çš„å®Œæ•´è°ƒç”¨é“¾
- ğŸ“¦ **æ•°æ®ç»“æ„å…³ç³»** - ç»“æ„ä½“ä¹‹é—´å¦‚ä½•å…³è”
- âš¡ **å¼‚æ­¥æ‰§è¡Œæµç¨‹** - ä¸­æ–­ã€å·¥ä½œé˜Ÿåˆ—ã€å®šæ—¶å™¨çš„æ‰§è¡Œæ—¶æœº
- ğŸ”Œ **å›è°ƒæ˜ å°„å…³ç³»** - å“ªä¸ªå‡½æ•°æŒ‡é’ˆå¯¹åº”å“ªä¸ªå®ç°

**Linux Driver Analyzer** å°±æ˜¯ä¸ºè§£å†³è¿™äº›é—®é¢˜è€Œç”Ÿçš„ï¼

## âœ¨ ç‰¹æ€§

### å½“å‰ç‰ˆæœ¬ (v0.1)

- âœ… **çº¯é™æ€åˆ†æ** - æ— éœ€ç¼–è¯‘ç¯å¢ƒï¼Œç§’çº§åˆ†æ
- âœ… **å‡½æ•°è°ƒç”¨å›¾** - å¯è§†åŒ–å±•ç¤ºå‡½æ•°è°ƒç”¨å…³ç³»
- âœ… **ç»“æ„ä½“å…³ç³»å›¾** - å±•ç¤ºæ•°æ®ç»“æ„ä¹‹é—´çš„å¼•ç”¨å…³ç³»
- âœ… **å‡½æ•°æŒ‡é’ˆè¿½è¸ª** - è¯†åˆ« ops è¡¨ä¸­çš„å›è°ƒæ˜ å°„
- âœ… **å¼‚æ­¥æœºåˆ¶è¯†åˆ«** - å·¥ä½œé˜Ÿåˆ—ã€ä¸­æ–­ã€å®šæ—¶å™¨ã€Tasklet
- âœ… **Linuxå†…æ ¸çŸ¥è¯†åº“** - ç†è§£é©±åŠ¨æ¡†æ¶çš„å›è°ƒæ—¶æœº
- âœ… **äº¤äº’å¼Webç•Œé¢** - ç‚¹å‡»å±•å¼€ã€æœç´¢ã€è¿‡æ»¤

### è§„åˆ’ä¸­

- ğŸš§ **tree-sitter åç«¯** - æ›´ç²¾ç¡®çš„è¯­æ³•è§£æ
- ğŸš§ **libclang åç«¯** - å®Œæ•´çš„ç±»å‹æ¨å¯¼
- ğŸš§ **è·¨æ–‡ä»¶åˆ†æ** - æ”¯æŒå¤šæ–‡ä»¶é¡¹ç›®
- ğŸš§ **VSCode æ’ä»¶** - IDE é›†æˆ

## ğŸ“¸ æˆªå›¾

<p align="center">
  <img src="docs/images/call-flow-demo.png" alt="Call Flow" width="80%"/>
  <br>
  <em>å‡½æ•°è°ƒç”¨æµå¯è§†åŒ–</em>
</p>

<p align="center">
  <img src="docs/images/struct-relation-demo.png" alt="Struct Relations" width="80%"/>
  <br>
  <em>ç»“æ„ä½“å…³ç³»å›¾</em>
</p>

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
git clone https://github.com/yourusername/linux-driver-analyzer.git
cd linux-driver-analyzer
pip install -r requirements.txt
```

### åˆ†æé©±åŠ¨ä»£ç 

```bash
# åŸºç¡€åˆ†æ - å‡½æ•°è°ƒç”¨æµ
python src/core/basic_analyzer.py your_driver.c -o result.json

# é«˜çº§åˆ†æ - åŒ…å«ç»“æ„ä½“å…³ç³»
python src/core/advanced_analyzer.py your_driver.c --structs -o result.json
```

### å¯è§†åŒ–æŸ¥çœ‹

```bash
# æ–¹æ³•1ï¼šç›´æ¥æ‰“å¼€HTMLæ–‡ä»¶
open web/templates/call_flow_viewer.html

# æ–¹æ³•2ï¼šå¯åŠ¨æœ¬åœ°æœåŠ¡å™¨
python -m http.server 8080 --directory web
# ç„¶åè®¿é—® http://localhost:8080/templates/call_flow_viewer.html
```

åœ¨å¯è§†åŒ–ç•Œé¢ä¸­ï¼š
1. ç‚¹å‡»"å¯¼å…¥JSON"æŒ‰é’®
2. é€‰æ‹©ç”Ÿæˆçš„ `result.json`
3. æµè§ˆå‡½æ•°è°ƒç”¨æµç¨‹

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
linux-driver-analyzer/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ core/                 # æ ¸å¿ƒåˆ†æå¼•æ“
â”‚   â”‚   â”œâ”€â”€ basic_analyzer.py     # åŸºç¡€åˆ†æå™¨ (æ­£åˆ™åŒ¹é…)
â”‚   â”‚   â”œâ”€â”€ advanced_analyzer.py  # é«˜çº§åˆ†æå™¨ (ç»“æ„ä½“+è°ƒç”¨å›¾)
â”‚   â”‚   â””â”€â”€ knowledge_base.json   # Linuxå†…æ ¸çŸ¥è¯†åº“
â”‚   â”œâ”€â”€ backends/             # å¯æ’æ‹”åç«¯
â”‚   â”‚   â”œâ”€â”€ regex_backend.py      # æ­£åˆ™åŒ¹é…åç«¯ (å½“å‰)
â”‚   â”‚   â”œâ”€â”€ treesitter_backend.py # tree-sitteråç«¯ (è®¡åˆ’)
â”‚   â”‚   â””â”€â”€ clang_backend.py      # libclangåç«¯ (è®¡åˆ’)
â”‚   â””â”€â”€ visualizers/          # å¯è§†åŒ–ç”Ÿæˆå™¨
â”‚       â””â”€â”€ json_exporter.py
â”œâ”€â”€ web/
â”‚   â”œâ”€â”€ js/                   # JavaScriptæ¨¡å—
â”‚   â”œâ”€â”€ css/                  # æ ·å¼æ–‡ä»¶
â”‚   â””â”€â”€ templates/            # HTMLæ¨¡æ¿
â”‚       â”œâ”€â”€ call_flow_viewer.html
â”‚       â””â”€â”€ struct_viewer.html
â”œâ”€â”€ docs/                     # æ–‡æ¡£
â”‚   â”œâ”€â”€ ROADMAP.md               # å¼€å‘è·¯çº¿å›¾
â”‚   â”œâ”€â”€ ARCHITECTURE.md          # æ¶æ„è®¾è®¡
â”‚   â”œâ”€â”€ API.md                   # APIæ–‡æ¡£
â”‚   â””â”€â”€ images/                  # æˆªå›¾å’Œå›¾ç‰‡
â”œâ”€â”€ tests/                    # æµ‹è¯•ç”¨ä¾‹
â”œâ”€â”€ examples/                 # ç¤ºä¾‹é©±åŠ¨ä»£ç 
â”œâ”€â”€ scripts/                  # è¾…åŠ©è„šæœ¬
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ setup.py
â””â”€â”€ README.md
```

## ğŸ— æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Linux Driver Analyzer                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚   Regex Backend â”‚  â”‚ TreeSitter      â”‚  â”‚  Clang Backend  â”‚      â”‚
â”‚  â”‚   (å½“å‰)        â”‚  â”‚ Backend (è®¡åˆ’)  â”‚  â”‚  (è®¡åˆ’)         â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚           â”‚                    â”‚                    â”‚                â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                â”‚                                     â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚                    â”‚    Core Analyzer      â”‚                         â”‚
â”‚                    â”‚  â”œâ”€â”€ ç¬¦å·è¡¨           â”‚                         â”‚
â”‚                    â”‚  â”œâ”€â”€ è°ƒç”¨å›¾           â”‚                         â”‚
â”‚                    â”‚  â””â”€â”€ ç»“æ„ä½“å…³ç³»       â”‚                         â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â”‚                                â”‚                                     â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚                    â”‚   Knowledge Base      â”‚                         â”‚
â”‚                    â”‚   (Linuxæ¡†æ¶è¯­ä¹‰)     â”‚                         â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â”‚                                â”‚                                     â”‚
â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚           â”‚                    â”‚                    â”‚                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  JSON Exporter  â”‚  â”‚   Web Viewer    â”‚  â”‚ VSCode Plugin   â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ—º è·¯çº¿å›¾

è¯¦è§ [ROADMAP.md](docs/ROADMAP.md)

| é˜¶æ®µ | ç›®æ ‡ | çŠ¶æ€ |
|------|------|------|
| v0.1 | åŸºç¡€åˆ†æ + Webå¯è§†åŒ– | âœ… å®Œæˆ |
| v0.2 | tree-sitter åç«¯ | ğŸš§ è¿›è¡Œä¸­ |
| v0.3 | libclang åç«¯ | ğŸ“… è®¡åˆ’ä¸­ |
| v0.4 | è·¨æ–‡ä»¶åˆ†æ | ğŸ“… è®¡åˆ’ä¸­ |
| v1.0 | VSCode æ’ä»¶ | ğŸ“… è®¡åˆ’ä¸­ |

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·æŸ¥çœ‹ [CONTRIBUTING.md](docs/CONTRIBUTING.md)

### å¦‚ä½•è´¡çŒ®

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. æ‰“å¼€ Pull Request

### è´¡çŒ®æ–¹å‘

- ğŸ› ä¿®å¤ Bug
- ğŸ“š å®Œå–„æ–‡æ¡£
- ğŸ”§ æ·»åŠ æ–°çš„å†…æ ¸æ¡†æ¶åˆ°çŸ¥è¯†åº“
- âœ¨ å®ç°æ–°åŠŸèƒ½
- ğŸ§ª æ·»åŠ æµ‹è¯•ç”¨ä¾‹

## ğŸ“„ License

MIT License - è¯¦è§ [LICENSE](LICENSE)

## ğŸ™ è‡´è°¢

- Linuxå†…æ ¸ç¤¾åŒº
- tree-sitter é¡¹ç›®
- Clang/LLVM é¡¹ç›®

---

<p align="center">
  Made with â¤ï¸ for Linux Driver Developers
</p>

